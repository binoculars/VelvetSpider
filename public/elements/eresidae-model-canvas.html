<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/core-ajax/core-ajax.html">
<link rel="import" href="/bower_components/core-item/core-item.html">
<link rel="import" href="/bower_components/core-menu/core-menu.html">
<link rel="import" href="/bower_components/core-menu/core-submenu.html">
<link rel="import" href="/bower_components/core-splitter/core-splitter.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">
<link rel="import" href="/elements/eresidae-endpoint-query-form.html">

<script src="/bower_components/jquery/dist/jquery.min.js"></script>
<script src="/bower_components/jquery-ui/jquery-ui.min.js"></script>

<polymer-element name="eresidae-model-canvas" flex vertical layout>
	<template>


		<style>
			/**
			 * Author: @joostkiens
			 * Licensed under the MIT license
			 */
			#graph {
				background:
					linear-gradient(-90deg, rgba(0,0,0,.05) 1px, transparent 1px),
					linear-gradient(rgba(0,0,0,.05) 1px, transparent 1px),
					linear-gradient(-90deg, rgba(0, 0, 0, .04) 1px, transparent 1px),
					linear-gradient(rgba(0,0,0,.04) 1px, transparent 1px),
					linear-gradient(transparent 3px, #f2f2f2 3px, #f2f2f2 98px, transparent 98px),
					linear-gradient(-90deg, #aaa 1px, transparent 1px),
					linear-gradient(-90deg, transparent 3px, #f2f2f2 3px, #f2f2f2 98px, transparent 98px),
					linear-gradient(#aaa 1px, transparent 1px),
					#f2f2f2
					repeat;
				background-size:
					10px 10px,
					10px 10px,
					100px 100px,
					100px 100px,
					100px 100px,
					100px 100px,
					100px 100px,
					100px 100px;

				/*margin: 0;*/
				/*position: relative;*/
				/*width: 100%;*/


			}

			#boxContainer {
				position: relative;
				/*top: 0;*/
				/*bottom: auto;*/
				width: 100%;
				height: 100%;
			}

			.model-box {
				border: 1px solid black;
				border-radius: 3%;
				box-shadow: rgba(0, 0, 0, 0.5) 4px 4px 2px;
				display: inline-block;
			}

			.model-box.ui-draggable-dragging {
				box-shadow: rgba(0, 0, 0, 0.5) 8px 8px 4px;
			}

			.model-box * {
				padding: 5px;
				border-radius: inherit;
			}

			.model-box .banner {
				background-color: #7D25AC;
				color: #fff;
			}

			.model-box .body {
				background-color: #fff;
				color: #000;
				min-height: 100px;
			}

		</style>

		<!--<core-drag-drop></core-drag-drop>-->

		<div id="graph" flex>
			<div id="boxContainer">
				<div class="model-box" id="dm">
					<div class="banner">Title</div>
					<div class="body">
						<span>Text</span>
						<paper-input></paper-input>
					</div>
				</div>
			</div>
		</div>
	</template>
	<script>



		Polymer({
			domReady: function() {
				var dm = this.$.dm;
				$(this.$.dm).draggable({
					containment: '#graph',
					refreshPositions: true,
					scroll: false,
					handle: '.banner',
					cursor: 'move',
					stop: function(e) {
						var style = e.target.style;
						style.left = (parseInt(style.left) + 4) + 'px';
						style.top = (parseInt(style.top) + 4) + 'px';
					}
				});

			}
		});
	</script>
</polymer-element>